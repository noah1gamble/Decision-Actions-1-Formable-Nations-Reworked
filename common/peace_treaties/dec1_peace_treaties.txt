# Completely scripted peace treaties are made here

# THIS is the Taker and FROM the Giver in all scopes unless otherwise stated

# This functionality was made to fully support modded subject types. It can probably also be used for other things, but has the following limitations: 
# These treaties don't support having a different Taker/Giver than the two countries that are negotiating.
# Nor do they support setting provinces (like cede province) or third party countries (like annull treaties) as targets.

depose_emperor = {
	category = 6 
	power_cost_base = 1.0 # Base factor for diplomatic power cost when treaty is not allowed by casus belli. Scales with war score cost.
	prestige_base = 0.1 # Base factor for prestige gain and loss. Scales with war score cost.
	ae_base = 0.5 # Base factor for aggressive expansion. Scales with war score cost.
	warscore_cap = -1 # Warscore cost will never go above this value. Only enabled if non-negative. This value defaults to -1.
	requires_demand_independence = yes # Whether this can be demanded by the former subject in an independence war without also demanding independence.
	is_make_subject = yes # This will make the treaty mutually exclusive with other treaties that makes the giver a subject, or that explicitly frees the giver from their current overlord.
	requires_is_allowed = yes # If set to "yes", treaty will only be visible when explicitly allowed by casus belli. If not, it will be available but cost diplomatic power.	
	is_visible = {
		is_part_of_hre = yes
		is_emperor = no
	}
	is_allowed = { # Defaults to equivalent of "always = yes"
		is_part_of_hre = yes
		is_emperor = no
	}
	effect = { # Defaults to empty effect (which makes error log entry but is safe)
		create_subject = {
			subject = FROM
			subject_type = dummy
		}
	}
	ai_weight = { # Defaults to always evaluate to 0
		export_to_variable = {
			variable_name = ai_value # Mandatory to have entry called "ai_value". Its value at the end of the ai_weight scope is what will be used
			value = 50
		}
		limit = { # if limit evaluates false, ai_weight will evaluate to 0 regardless
			owns_core_province = 1
		}
	}
}